name: CI Pipeline
on: [push]
jobs:
    unit-tests:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - run: bash ./runTests.sh
    cypress-api-tests:
        runs-on: ubuntu-latest
        needs: unit-tests
        steps:
            - uses: actions/checkout@v2
            - run: |
                  npm install
                  npm run startBackend & npx cypress run --spec "cypress/e2e/api/**"
            - uses: actions/download-artifact@v3
    cypress-UI-tests:
        runs-on: ubuntu-latest
        needs: unit-tests
        steps:
            - uses: actions/checkout@v2
            - run: |
                  npm install
                  npm run startBackend & npx cypress run --spec "cypress/e2e/UI/**"
            - uses: actions/download-artifact@v3
